"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),Crumb=function(){function e(r,t){_classCallCheck(this,e),this.name=r,this.uri=t}return _createClass(e,[{key:"getUri",value:function(){return this.uri}},{key:"getName",value:function(){return this.name}}]),e}();exports.default=Crumb,Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),Nodecrumbs=function(){function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standard",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"home";_classCallCheck(this,e),this.breadcrumbs=null,this.wordsPattern=/([+\-_$%{}()])|(%20)/g,this.trailingSlash=/\/$/;var a=r.url;if(s&&(this.home=s),a=a.replace(this.trailingSlash,""),this.origin=a.split("/"),this.slugs=a.split("/"),this.uri=a,"upper"!==t&&"lower"!==t&&"standard"!==t)throw"Format Exception: no format specified for Nodecrumbs";this.format=t}return _createClass(e,[{key:"formatCrumbs",value:function(e){var r=[];switch(this.format){case"upper":for(t=0;t<e.length;t++)r.push(e[t].toUpperCase());break;case"lower":for(t=0;t<e.length;t++)r.push(e[t].toLowerCase());break;default:for(var t=0;t<e.length;t++)r.push(this.capitalizeFirstLetter(e[t]))}return r}},{key:"formatSpecials",value:function(){for(var e=this,r=0;r<this.slugs.length;r++){var t=this.slugs[r].split(this.wordsPattern);t=t.filter(function(r,t){return void 0!==r&&!r.match(e.wordsPattern)}),t=this.formatCrumbs(t),this.slugs[r]=t.join(" ")}}},{key:"buildLinks",value:function(){var e="",r=[];return this.origin.forEach(function(t,s){""!==t&&(e+="/"!==t?"/"+t:t+"/",r.push(e))}),r}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"cleanSlugs",value:function(){var e=[];for(var r in this.slugs)""!==this.slugs[r]&&e.push(this.slugs[r]);this.slugs=e}},{key:"parse",value:function(){var e=[];this.cleanSlugs(),this.formatSpecials();var r=this.buildLinks();if(this.home){var t=this.formatCrumbs([this.home]);e.push(new Crumb(t[0],"/"))}for(var s=0;s<this.slugs.length;s++)e.push(new Crumb(this.slugs[s],r[s]));return this.breadcrumbs=e,e}},{key:"render",value:function(){if(null===this.breadcrumbs)throw"Breadcrumb Error: No Breadcrumb instantiated with the 'parse()' method";for(var e="<div id='bread'><ul>",r=0;r<this.breadcrumbs.length-1;r++)e+="<li><a href='"+this.breadcrumbs[r].getUri()+"'>"+this.breadcrumbs[r].getName()+"</a></li>";return e+="<li>"+this.breadcrumbs[this.breadcrumbs.length-1].getName()+"</li></ul></div>"}}]),e}();exports.default=Nodecrumbs,module.exports={Nodecrumbs:Nodecrumbs};